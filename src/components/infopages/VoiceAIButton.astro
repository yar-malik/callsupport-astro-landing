<div class="min-h-[60vh] flex flex-col items-center bg-gray-50 text-gray-800">
  <!-- Header Section -->
  <div
    class="w-full text-center py-12 bg-gradient-to-b from-gray-100 to-gray-50"
  >
    <h1 class="text-4xl font-bold mb-4">
      Drive more revenue with a personalized AI sales rep
    </h1>
    <p class="text-lg text-gray-600 mb-8">
      Instantly deploy a lifelike AI agent to call abandoned carts & convert
      them into profitable paying customers.
    </p>
  </div>
  <!-- Features -->
  <div class="flex justify-center gap-8 mt-6">
    <div class="flex items-center text-gray-600">
      <span class="text-green-500 text-xl mr-2">✔</span> 10x ROI Guarantee
    </div>
    <div class="flex items-center text-gray-600">
      <span class="text-green-500 text-xl mr-2">✔</span> 3x Higher Cart Recovery
    </div>
    <div class="flex items-center text-gray-600">
      <span class="text-green-500 text-xl mr-2">✔</span> 24/7 Interaction
    </div>
  </div>

  <!-- Vapi Button Section -->
  <div class="relative flex flex-col items-center mt-4">
    <!-- Vapi Default Button -->
    <div id="vapi-support-btn" class="hidden "></div>
  </div>

  <!-- Steps Section -->
  <div class="w-full mt-16 grid grid-cols-1 md:grid-cols-4 gap-6 px-12">
    <!-- Step 1 -->
    <div class="text-center">
      <div
        class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-8 w-8 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M4 16c0 4 5 5 8 5s8-1 8-5M4 12c0 4 5 5 8 5s8-1 8-5M4 8c0 4 5 5 8 5s8-1 8-5"
          ></path>
        </svg>
      </div>
      <p class="font-medium">
        Our team creates a custom Revana bot for your store
      </p>
    </div>
    <!-- Step 2 -->
    <div class="text-center">
      <div
        class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-8 w-8 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3 10h11M9 21h6m-6-6h6"></path>
        </svg>
      </div>
      <p class="font-medium">It starts calling missed customers immediately</p>
    </div>
    <!-- Step 3 -->
    <div class="text-center">
      <div
        class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-8 w-8 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3 10h11M9 21h6m-6-6h6"></path>
        </svg>
      </div>
      <p class="font-medium">Your sales increase automatically</p>
    </div>
    <!-- Step 4 -->
    <div class="text-center">
      <div
        class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-8 w-8 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 12h6m-6-6h6m-6 12h6"></path>
        </svg>
      </div>
      <p class="font-medium">You unlock a new level of scale with your store</p>
    </div>
  </div>
</div>
<div class="min-h-screen bg-gradient-to-br from-black via-blue-900 to-blue-800 text-white font-mono flex items-center justify-center">
  <div class="text-center">
    <div class="mb-4">
      <div id="status" class="text-lg font-semibold">Status: Disconnected</div>
      <div id="speaker" class="text-lg">Speaker: none</div>
      <div id="volume" class="text-lg">Volume: 0</div>
    </div>
    <div class="flex flex-col items-center gap-5">
      <!-- Call Button -->
      <div
        id="callWithVapi"
        class="flex items-center justify-center w-24 h-24 rounded-full bg-gray-500 hover:bg-gray-400 cursor-pointer transition-all"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 384 512"
          class="w-10 h-10 fill-white"
        >
          <path
            d="M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"
          />
        </svg>
      </div>
      <!-- Status Message -->
      <div id="vapiStatusMessage" class="text-red-500 text-lg"></div>
      <div id="instructions" class="text-gray-400">
        Click to start a call. Click again to stop it.
      </div>
      <!-- Typing Area -->
      <textarea
        id="vapiTyping"
        class="w-[433px] h-24 bg-blue-950 rounded-lg p-5 text-gray-300 border-none"
        readonly
      >
Ask the assistant to write something...
      </textarea>
      <!-- Chat Area -->
      <div
        id="chat"
        class="relative w-72 h-96 overflow-y-scroll border border-gray-400 p-2 mt-5"
      ></div>
    </div>
    <!-- Attribution -->
    <a
      href="https://www.youtube.com/@jannismoore/featured"
      target="_blank"
      rel="noopener noreferrer"
      class="fixed bottom-2 left-2 text-white underline"
    >
      Made by Jannis Moore
    </a>
  </div>
</div>
<script src="/src/js/index.js"></script>
<!-- Script -->
<script>
  // Replace these with your actual API key and Assistant ID
  const apiKey = import.meta.env.PUBLIC_VAPI_API_KEY; // or 'YOUR_API_KEY'
  const assistant = import.meta.env.PUBLIC_VAPI_ASSISTANT_ID; // or 'YOUR_ASSISTANT_ID'

  // Load Vapi SDK
  (function (d, t) {
    console.log("Starting to load Vapi SDK.");
    const g = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    g.src =
      "https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js";
    g.defer = true;
    g.async = true;
    s.parentNode.insertBefore(g, s);
    console.log("Vapi SDK script tag inserted.");

    g.onload = function () {
      console.log("Vapi SDK loaded successfully.");

      // Initialize Vapi instance
      const vapiInstance = window.vapiSDK.run({
        apiKey: apiKey,
        assistant: assistant,
        config: {
          mode: "manual",
          enableWidget: true, // Enable default Vapi widget
        },
      });
      console.log("Vapi instance initialized with default widget.");

      // Ensure the Vapi button is visible
      const vapiButton = document.getElementById("vapi-support-btn");
      vapiButton.classList.remove("hidden");
      
      console.log("Vapi button made visible.");

      // Add event listeners
      vapiInstance.on("call-start", () => {
        console.log("Call started.");
      });

      vapiInstance.on("call-end", () => {
        console.log("Call ended.");
      });

      vapiInstance.on("error", (error) => {
        console.error("Vapi error:", error);
      });

      vapiInstance.on("assistant-response", (response) => {
        console.log("Assistant response received:", response);
      });

      vapiInstance.on("user-input", (input) => {
        console.log("User input detected:", input);
      });

      console.log("Vapi event listeners set up.");
    };
  })(document, "script");
  console.log("Vapi SDK loading function executed.");
</script>
